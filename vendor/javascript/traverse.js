var e={};function toS(e){return Object.prototype.toString.call(e)}function isDate(e){return toS(e)==="[object Date]"}function isRegExp(e){return toS(e)==="[object RegExp]"}function isError(e){return toS(e)==="[object Error]"}function isBoolean(e){return toS(e)==="[object Boolean]"}function isNumber(e){return toS(e)==="[object Number]"}function isString(e){return toS(e)==="[object String]"}var r=Array.isArray||function isArray(e){return Object.prototype.toString.call(e)==="[object Array]"};function forEach(e,r){if(e.forEach)return e.forEach(r);for(var t=0;t<e.length;t++)r(e[t],t,e)}var t=Object.keys||function keys(e){var r=[];for(var t in e)r.push(t);return r};var n=Object.prototype.propertyIsEnumerable;var o=Object.getOwnPropertySymbols;function ownEnumerableKeys(e){var r=t(e);if(o){var a=o(e);for(var u=0;u<a.length;u++)n.call(e,a[u])&&r.push(a[u])}return r}var a=Object.prototype.hasOwnProperty||function(e,r){return r in e};function copy(e){if(typeof e==="object"&&e!==null){var t;if(r(e))t=[];else if(isDate(e))t=new Date(e.getTime?e.getTime():e);else if(isRegExp(e))t=new RegExp(e);else if(isError(e))t={message:e.message};else if(isBoolean(e)||isNumber(e)||isString(e))t=Object(e);else if(Object.create&&Object.getPrototypeOf)t=Object.create(Object.getPrototypeOf(e));else if(e.constructor===Object)t={};else{var n=e.constructor&&e.constructor.prototype||e.__proto__||{};var o=function T(){};o.prototype=n;t=new o}forEach(ownEnumerableKeys(e),(function(r){t[r]=e[r]}));return t}return e}function walk(e,t,n){var o=[];var u=[];var i=true;return function walker(e){var c=n?copy(e):e;var s={};var l=true;var f={node:c,node_:e,path:[].concat(o),parent:u[u.length-1],parents:u,key:o[o.length-1],isRoot:o.length===0,level:o.length,circular:null,update:function(e,r){f.isRoot||(f.parent.node[f.key]=e);f.node=e;r&&(l=false)},delete:function(e){delete f.parent.node[f.key];e&&(l=false)},remove:function(e){r(f.parent.node)?f.parent.node.splice(f.key,1):delete f.parent.node[f.key];e&&(l=false)},keys:null,before:function(e){s.before=e},after:function(e){s.after=e},pre:function(e){s.pre=e},post:function(e){s.post=e},stop:function(){i=false},block:function(){l=false}};if(!i)return f;function updateState(){if(typeof f.node==="object"&&f.node!==null){f.keys&&f.node_===f.node||(f.keys=ownEnumerableKeys(f.node));f.isLeaf=f.keys.length===0;for(var r=0;r<u.length;r++)if(u[r].node_===e){f.circular=u[r];break}}else{f.isLeaf=true;f.keys=null}f.notLeaf=!f.isLeaf;f.notRoot=!f.isRoot}updateState();var p=t.call(f,f.node);p!==void 0&&f.update&&f.update(p);s.before&&s.before.call(f,f.node);if(!l)return f;if(typeof f.node==="object"&&f.node!==null&&!f.circular){u.push(f);updateState();forEach(f.keys,(function(e,r){o.push(e);s.pre&&s.pre.call(f,f.node[e],e);var t=walker(f.node[e]);n&&a.call(f.node,e)&&(f.node[e]=t.node);t.isLast=r===f.keys.length-1;t.isFirst=r===0;s.post&&s.post.call(f,t);o.pop()}));u.pop()}s.after&&s.after.call(f,f.node);return f}(e).node}function Traverse(e){this.value=e}Traverse.prototype.get=function(e){var r=this.value;for(var t=0;t<e.length;t++){var n=e[t];if(!r||!a.call(r,n))return;r=r[n]}return r};Traverse.prototype.has=function(e){var r=this.value;for(var t=0;t<e.length;t++){var n=e[t];if(!r||!a.call(r,n))return false;r=r[n]}return true};Traverse.prototype.set=function(e,r){var t=this.value;for(var n=0;n<e.length-1;n++){var o=e[n];a.call(t,o)||(t[o]={});t=t[o]}t[e[n]]=r;return r};Traverse.prototype.map=function(e){return walk(this.value,e,true)};Traverse.prototype.forEach=function(e){this.value=walk(this.value,e,false);return this.value};Traverse.prototype.reduce=function(e,r){var t=arguments.length===1;var n=t?this.value:r;this.forEach((function(r){this.isRoot&&t||(n=e.call(this,n,r))}));return n};Traverse.prototype.paths=function(){var e=[];this.forEach((function(){e.push(this.path)}));return e};Traverse.prototype.nodes=function(){var e=[];this.forEach((function(){e.push(this.node)}));return e};Traverse.prototype.clone=function(){var e=[];var r=[];return function clone(t){for(var n=0;n<e.length;n++)if(e[n]===t)return r[n];if(typeof t==="object"&&t!==null){var o=copy(t);e.push(t);r.push(o);forEach(ownEnumerableKeys(t),(function(e){o[e]=clone(t[e])}));e.pop();r.pop();return o}return t}(this.value)};function traverse(e){return new Traverse(e)}forEach(ownEnumerableKeys(Traverse.prototype),(function(e){traverse[e]=function(r){var t=[].slice.call(arguments,1);var n=new Traverse(r);return n[e].apply(n,t)}}));e=traverse;var u=e;export{u as default};

